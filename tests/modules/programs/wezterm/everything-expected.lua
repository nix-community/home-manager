-- Generated by Home Manager.

local wezterm = require("wezterm")

wezterm.on("trigger-vim-with-scrollback", function(window, pane)
  local scrollback = pane:get_lines_as_text();

  local name = os.tmpname();
  local f = io.open(name, "w+");
  f:write(scrollback);
  f:flush();
  f:close();

  window:perform_action(wezterm.action{SpawnCommandInNewWindow={
    args={"vim", name}}
  }, pane)

  wezterm.sleep_ms(1000);
  os.remove(name);
end)


return {
  -- Key Bindings
  keys = {
    {
      key = "l",
    },
    {
      key = "l",
      action = wezterm.action {ActivateTabRelative = 1},
    },
    {
      mods = "SHIFT|CTRL",
      key = "h",
      action = wezterm.action {ActivateTabRelative = -1},
    },
  },

  -- Mouse Bindings
  mouse_bindings = {
    {
      mods = "CTRL",
      event = {
        Up = {
          streak = 1,
          button = "Left",
        },
      },
      action = "OpenLinkAtMouseCursor",
    },
    {
      event = {
        Down = {
          streak = 1,
          button = "Right",
        },
      },
      action = wezterm.action { SendString = "woot" },
    },
  },

  -- Settings
  enable_wayland = true,
  font_size = 10.000000,
  line_height = 1.000000,

  -- Colors
  colors = {
    foreground = "#C0C0C0",
    background = "#000000",
    cursor_bg = "#52AD70",
    cursor_fg = "#000000",
    cursor_border = "#52AD70",
    selection_bg = "#FFFACD",
    selection_fg = "#000000",
    scrollbar_thumb = "#222222",
    split = "#444444",
    ansi = { "#000000", "#800000", "#008000", "#808000", "#000080", "#800080", "#008080", "#C0C0C0" },
    brights = { "#808080", "#FF0000", "#00FF00", "#FFFF00", "#0000FF", "#FF00FF", "#00FFFF", "#FFFFFF" },
    tab_bar = {
      background = "#0B0022",
      active_tab = {
        bg_color = "#2B2042",
        fg_color = "#C0C0C0",
        intensity = "Normal",
        italic = false,
        strikethrough = false,
        underline = "None",
      },
      inactive_tab = {
        bg_color = "#1B1032",
        fg_color = "#808080",
        intensity = "Normal",
        italic = false,
        strikethrough = false,
        underline = "None",
      },
      inactive_tab_hover = {
        bg_color = "#3B3052",
        fg_color = "#909090",
        intensity = "Normal",
        italic = true,
        strikethrough = false,
        underline = "None",
      },
    },
  },

  font = wezterm.font("FiraCode Nerd Font Mono"),

}

